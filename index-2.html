<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    

    <script>
        //imitando um delay na requisição - utilizando a forma AJAX 
        setTimeout(function(){
            var request = new XMLHttpRequest();
            request.open('GET','https://jsonplaceholder.typicode.com/todos/1', 'true');

            request.onload = function(){
                if(this.status >= 200 && this.status < 400){
                    //request feita com sucesso.
                    var data = JSON.parse(this.response);
                    console.log(data);
                }else{
                    //erro na request
                }
            }

            request.onerror = function(){

            }

            request.send();
        }, 2000);



        //utilizando a forma fatch - coletando informações.

        setTimeout(function(){

            fetch('https://jsonplaceholder.typicode.com/todos/1')
            .then(response => response.json())
            .then(json=>console.log(json));


        }, 3000);



        //utilizando a forma fatch - adicionando informações.

        setTimeout(function(){

        fetch('https://jsonplaceholder.typicode.com/posts',{
            method:'POST',
            body:JSON.stringify({
                title: 'Guilherme',
                body: 'Teste de API FAKE',
                userId: 10
            }),
            headers:{
                'Content-Type': 'application/json; charset= UTF-8'
            }
        })
        .then(response => response.json())
        .then(json=>console.log(json));
        }, 4000);


    
    </script>
</body>
</html>





